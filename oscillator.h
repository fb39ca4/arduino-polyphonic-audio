#include <avr/pgmspace.h>
#include <stdlib.h>

typedef struct oscillator {
  int16_t state;
  int16_t stride;
  char volume;
} oscillator;

inline int squareWave(volatile oscillator *osc) {
  //if (osc->stride == 0) return 0;
  osc->state += osc->stride;
  return (osc->state < 0) ? osc->volume : -(osc->volume);
}

const uint16_t noiseLUT[] PROGMEM = {1647,48478,19282,45894,50628,32404,63158,11459,34165,2822,12579,18775,21897,9661,2740,48005,18531,40593,5537,5940,11038,9035,14438,46400,2879,30943,51516,8175,51123,41098,40357,30308,51794,10299,45068,40500,51637,35482,55668,51082,46832,13073,45888,62786,43615,38373,49727,27171,16146,44478,3368,29554,54271,31992,16249,18013,34383,9443,34807,64208,316,11589,17676,46769,24896,61636,59493,4445,38681,29210,3646,45868,27865,2136,53378,1285,19185,58221,52450,62119,34499,21585,65424,65150,43750,10101,35556,8847,2039,10705,10064,22722,63002,6938,7157,47685,14364,8223,58849,29180,46068,21291,48509,11676,26749,7465,22442,12869,825,10004,30776,58351,29488,5374,39318,49302,29087,3952,59822,55394,21945,39986,25985,6258,5024,8929,33841,22777,40397,32770,53496,50096,52911,17680,25208,55952,55954,29735,27734,27803,56,44413,35276,4586,61320,1706,64260,49868,35044,32708,2335,26531,11179,61475,16241,49908,22941,18803,12293,28070,439,56241,20421,11561,48984,49597,61576,58661,10550,1108,20012,5651,21113,31155,36148,4623,50689,62670,4648,27206,62382,56400,39762,20517,27764,64521,18431,40733,3990,33760,35762,30369,55872,57751,9098,33014,42678,61819,8469,33146,36273,61893,48892,35327,12508,31995,33394,9239,13589,25241,38525,64955,20956,36962,48454,19498,19416,34356,56086,21505,47391,29477,6281,25138,27571,9950,43571,39006,51812,34166,55702,9526,40134,40986,26106,27735,48574,34253,31518,63375,26120,26345,19410,7649,21018,11012,46376,8452,8701,18111,23754,63452,49040,5588,24649,49025,32055,46538,63131,62365,55292,15166,14129,62324,5838,39569,46777,50072,43486,53517,57852,10355,11186,4349,21257,12411,53822,11710,36932,17524,19032,47674,56151,54565,30919,3436,36618,62571,37299,32684,28616,4549,33535,54883,27559,31754,17860,25592,6885,59532,22434,43600,3284,11431,42089,38159,7516,65474,6492,64460,12414,26721,58794,41946,59044,44870,64040,1932,60563,18140,52907,25600,45284,13214,30229,31513,35939,13079,26231,62110,6740,11989,48013,55174,51340,21582,8006,59707,36795,12152,49669,43639,8742,53911,35548,12107,8139,41605,55653,6937,64208,60692,62142,19060,18134,31606,32701,1073,24694,10627,41717,2508,59561,31894,61172,30083,17258,1195,43677,61256,3249,5282,52664,48613,28186,5613,35098,51820,59295,19973,20683,45612,28100,15555,28666,38637,51042,37996,62456,9316,11810,22655,11389,31026,7249,32794,45096,37320,6175,18151,38720,2669,29936,9509,19483,27941,13706,17639,39991,23235,8412,7974,19118,17223,13220,2410,25217,61385,14918,62256,30698,6745,51121,27183,45922,24484,42494,22805,38241,18928,23244,28731,14163,52972,8481,46365,43782,35674,2728,48984,52083,51881,63524,49944,30579,31322,53957,8647,18772,940,64260,33057,4734,29589,17579,47097,17587,63541,63473,29903,5277,52433,41452,21730,64071,41573,23656,62232,267,37787,27012,44075,23186,50779,20512,3516,28854,20785,21740,46254,30720,64412,59250,11156,41502,48111,54053,54741,35464,27538,3737,60034,38582,14873,3098,22260,22529,52504,29739,49121,50283,187,48277,9657,44866,2944,27149,38844,51964,5659,38462,23360,1362,6019,60906,62355,22192,53025,48708,21381,61899,23096,26580,10917,44060,35083,42172,31012,63727,44134,47476,27928,4170,53970,63225,41772,21937,9637,3711,65404,5110,33965,33062,32824,8313,9168,1492,48386,41179,24589,57293,8676,19295,55905,38810,23713,31315,37424,15779,41975,41819,41111,26332,41986,1237,21573,37515,50142,47994,1709,20375,49682,67,29519,48205,52484,44072,42438,47788,36195,19003,33347,2065,57821,23609,56320,58154,2610,29937,46599,13659,55157,47419,38133,12948,53946,20649,10987,55306,37720,57344,32543,47357,22285,61942,20619,64046,56453,53382,21569,20536,3050,60053,41748,64392,30276,43965,48683,40391,47364,29095,17134,4929,2384,33919,4260,55932,28122,30408,41443,44147,25061,45392,60696,9197,22866,43274,16639,41843,56656,8673,49390,49705,10503,47715,16655,7185,982,63952,41169,24067,57270,9063,27359,11453,32896,34575,37014,62917,46780,38750,31228,26966,44474,59668,55732,16910,9803,7406,50909,1155,9772,4522,14039,20858,35635,27851,33885,10234,52685,56754,42440,4181,2901,53865,37711,7014,54922,11483,38364,37604,30074,64397,26965,22610,12693,56606,55632,11124,44968,29970,50235,13343,25440,49642,7325,64337,12231,29248,50149,8709,52824,1958,48326,50916,33196,30012,19275,59348,19435,26692,48057,64577,4211,21955,57798,22944,5753,11476,65160,53185,15463,16621,18696,47685,49069,61945,47641,47223,64971,47390,22112,23107,63747,54206,27054,53158,7901,1151,3182,52150,37052,50495,41889,31152,41291,18210,45891,34236,28327,41897,58711,27207,19382,29047,31550,12159,39920,6694,56020,7801,101,62332,62127,55541,49120,41671,24990,30114,34051,32481,60792,55701,62327,42578,52993,48135,32974,48960,10164,808,28863,39371,11771,14301,38710,36351,23268,40488,53357,63826,7678,24250,34654,65148,55711,64558,30841,59437,28373,47842,14734,7537,31106,24763,51931,5048,5227,5238,15350,4656,56751,12770,2994,33591,55524,54256,28961,41941,43504,11253,38824,48859,42508,64327,2506,49142,8386,17993,44217,33633,43421,44504,27385,4107,30174,65535,13119,31651,59188,27118,59318,30686,61280,2846,33356,4403,64701,31424,49051,45414,43708,59331,10314,32761,55442,49438,34845,62959,53162,52866,43828,19182,9669,43734,56347,32432,3890,47390,63104,54845,45544,24380,1178,46345,15469,9460,34158,58393,3164,14489,33260,36082,53784,35971,37070,13380,23414,17286,60035,29643,23140,43835,41846,26078,58422,13329,2709,56307,48223,31158,53040,35440,60397,11454,13707,57160,53874,57954,62921,26590,36997,1476,62963,58931,11677,16458,53650,50372,32744,57801,3292,35539,36466,35737,5784,18907,17699,41334,11787,54275,62274,64969,4888,10447,65341,62295,65370,55442,22923,24604,47316,43397,5133,12238,38306,55085,6901,4138,63852,57850,54502,47311,12597,9301,18710,53168,50127,31170,6302,40788,12689,2761,22921,29999,24118,30847,9031,10777,2158,30883,29605,20063,27912,2823,28592,39726,42684,37630,2941,60315,24915,25883,60954,24764,1786,18833,5550,63876,34814,30622,1469,61141,51400,9494,43916,49530,22540,62505,37606,48048,7644,23595,32507,64436,51876,59221,2037,26496,38308,21143,15331,42905,44910,15298,45433,30783,28885,48840,14111,26839,9486,18936,15999,58279,41888,2643,13458,35524,14617,55832,19412,46077,16237,53270,58004,19313,65388,41801,63355,53713,58706,56867,10295,54496,23571,8448,58169,25983,61552,4045,15222,40219,63578,2888,41714,15577,41426,45152,37229,44832,54606,15357,31265,27217,28515,24473,31650,40820,11773,57836,26659,38479,29715,28159,20664,18159,24794,47571,19617,51663,8458,13940,52606,56156,35816,48504,58114,29810,20943,56329,54601,7960,4877,62123,7174,12285,7542,60221,57469,23934,57900,23169,51876,8700,31207,64854,28064,36374,26352,42430,51154,50765,30856,30774,57412,31115,24348,36860,47275,1538,52261,13950,1139,49106,56798,46805,52839,58564,5313,9213,22104,29004,21144,30857,45583,26325,38775,5355,46268,14920,38249,62323,14361,26628,12960,20668,34018,1781,21514,19902,47618,32666,20471,23267,41902,2361,63869,19405,13225,62357,47590,45595,3493,7442,35560,2556,56492,7723,54715,16660,40313,61051,41183,37841,53548,24922,869,52034,44515,11418,22436,45588,16861,59774,43938,64021,19249,15945,12488,34338,61974,64941,38537,16478,1259,35975,11993,44104,124,23564,14146,14262,3857,15744,44332,46599,18277,41633,4801,53669,36580,35636,62766,10667,22082,3383,49787,40067,18471,4150,48197,12720,55795,35299,35100,12721,35382,54016,60798,48761,62959,36198,50560,15418,3433,30331,28729,12961,2789,2156,45515,33486,5371,9830,25452,8753,57508,34089,8302,980,54126,25740,23076,33482,35908,63915,5686,10726,21308,8937,6903,43873,32061,15772,24615,21472,3947,22289,25262,6132,9198,20747,26401,8894,48914,11190,2481,11494,47305,17856,27649,35286,18261,28363,32387,63639,8611,53922,55075,42190,18174,48235,33347,4732,58792,61723,20446,4776,45105,41777,39528,22216,34957,47869,53792,17457,48138,23839,63758,52966,12651,7912,42799,53546,25284,51966,36468,59599,51221,7599,35163,58157,3413,59675,2922,58954,35060,9615,41541,15182,13967,55762,14170,38916,3979,26020,3632,48439,19076,61232,52421,49435,32280,33064,21124,45167,7006,63804,39114,34211,57860,40599,13718,30967,25858,15810,30218,36365,21446,47315,43885,20960,11500,33019,45621,16289,47285,53864,9348,61934,2236,13846,28431,53848,63105,53762,53303,7710,17943,13745,9540,47277,29759,17272,33562,60683,20976,4468,33685,20941,12384,12901,58467,28937,64010,32851,50270,9779,53040,20183,34562,59922,55592,51646,5690,30270,29046,63005,31014,43230,37250,38281,51360,38748,26114,58316,22177,33713,10440,55417,60330,65053,17540,34802,10206,33307,24574,5847,25649,55556,42625,2128,19677,24542,64978,35246,65306,58545,1611,43501,25594,14733,8432,33375,52255,6170,6585,22153,8366,10126,42256,8045,37143,20184,52780,8817,25702,48892,57342,58201,530,29565,50332,52303,60826,20314,6485,22356,53825,14930,39130,15592,20574,33841,32759,54580,2696,6231,14375,58616,26680,5861,5233,28140,24814,51039,3062,63032,64594,9026,13514,25156,5863,14088,35942,29031,58890,4689,60969,23707,12923,49871,15739,2117,35257,3332,46188,28733,262,46382,24920,63127,805,63671,53611,12807,8604,27793,22880,1783,59458,15925,49972,1291,4450,49394,31155,40969,31784,40578,52872,23715,20817,60814,9462,5374,34305,24000,59909,40100,6107,64267,62057,24592,23304,18001,43277,3337,58352,34481,15933,63471,27399,65281,27291,8324,45802,36539,25724,53030,28699,46898,4679,15668,26164,14777,21438,45053,42949,26412,3003,65388,60792,60349,16828,553,40091,48391,50867,3414,47636,11255,1029,26393,20790,34696,24883,45643,5150,1006,60205,19473,18352,48513,19237,46450,24022,9609,3212,58399,50236,64793,37842,40724,51068,13124,31942,4590,37473,12603,3554,21778,7149,23232,41834,8526,46343,8929,2871,58965,31891,29354,24104,4676,20330,55030,36391,58274,17665,39234,28697,18488,43148,56068,33935,64395,38468,55597,40500,19575,4432,26276,47148,17403,53476,39532,12450,5073,21773,18317,11060,1653,43878,2294,12955,46330,4591,4398,55069,6963,29070,4190,53720,51832,40872,62748,58295,41417,37655,56410,38475,58279,38371,27344,55814,27669,57800,22842,44015,63983,26276,26534,22727,37726,22045,53925,62321,63844,34519,28752,59769,41484,21350,21282,30718,35910,9122,29304,46628,62037,58402,950,38706,51347,14646,48093,424,48131,54956,34740,26929,31226,45124,47201,59045,50815,16165,1690,20508,58860,40366,63557,31368,17812,51849,3886,1542,3341,57335,9103,22240,27326,7621,33321,42651,46741,46692,64941,1751,52061,61707,3119,7036,38739,46570,48840,59897,20006,51414,27656,3562,5594,5183,65360,6078,42769,47603,64725,52461,28664,43598,55512,16739,13431,13565,58093,3154,16814,25816,17155,15170,60381,63625,53921,33803,33138,40454,42755,28107,27535,17044,52313,57247,38141,27984,61767,8300,10792,29243,43039,52046,39649,34527,56971,6877,37591,14001,40881,21750,32745,2273,34049,64336,315,54483,18307,30345,15461,44738,9815,62569,12497,35399,29435,3414,55937,56223,18049,44971,25191,56791,61459,44620,12359,53552,2348,13607,55930,17013,15367,15059,60031,26947,10601,4160,902,59519,31812,5179,10229,18300,13129,64111,61196,36636,39160,65324,61969,36784,54619,19873,19012,44706,39338,52377,18270,34229,38219,50547,41554,3491,65127,46664,20837,11997,5822,44004,62093,751,6836,20132,43788,21521,16461,44232,24725,18439,49377,22921,40521,53136,19352,52874,25409,23452,50678,53323,37135,47637,10182,64378,33645,33519,52736,30865,13159,7598,52293,49694,51405,20504,17711,48902,23406,5273,62104,65016,54472,13764,23100,62178,44853,7025,52826,55543,36986,12730,6768,61498,42860,43070,18326,7576,52226,24273,2781,27842,24374,12287,30380,27780,61335,16589,18985,5685,35013,64356,4646,41718,1387,40566,39643,47032,64977,42037,49232,16144,14328,47584,53879,789,20448,48273,17028,63839,53765,27444,1437,26189,20083,40235,60150,41721,6705,64664,42374,38412,64023,16409,9936,44269,20256,7961,43402,51233,26135,7320,8320,34993,8783,21078,38340,19764,8438,43769,39827,41354,22299,39732,616,12655,52623,59837,13186,23552,62960,35518,1965,8626,42098,57202,42558,1959,14033,30232,37612,38070,39611,14507,51056,36599,1690,36413,8183,392,40225,27208,51120,54607,16968,51276,39115,3330,12966,49678,28870,15285,20274,21031,6600,41261,36091,18488,42597,27085,19453,36654,44028,1065,17011,40593,39258,4738,64813,22624,2853,39449,18528,26257,40891,31857,7492,24608,49766,10174,32166,41252,800,3647,15961,26928,55483,9476,27284,15607,53469,21600,6478,48548,37632,2230,461,59031,3787,25729,65019,49077,2553,54805,33832,33922,60004,18667,47922,35302,50768,37948,11302,3760,27592,52889,60587,59373,21820,27597,5687,8358,48230,7811,53771,25144,3156,46494,38040,51935,18070,59821,26996,53990,38811,37924,52400,2839,63773,22061,33545,28720,35432,30963,8213,18175,1121,37110,28937,60581,64939,3159,57768,28273,22853,39702,36345,2067,29122,31943,23579,27007,16895,55042,65066,62764,59732,21553,1736,35514,36218,49147,54824,32678,20302,35368,40087,65019,9349,21077,19480,47042,55304,61730,23936,55034,30218,63781,55156,61289,59980,26674,37467,39786,50655,24767,10785,29360,111,51821,2823,45996,42740,16376,43078,46944,29012,64748,28163,64487,17388,18,31140,30235,24311,38976,26722,61440,32711,33593,5791,42913,64470,52185,53518,47105,61137,11605,16924,50479,41909,54375,32889,2599,17664,23950,16192,10916,33117,33163,53118,61045,27301,32662,16255,5855,62447,38342,12578,30484,28630,2717,37551,18761,20205,29359,40714,2106,23887,52320,7332,56491,35240,57074,41419,26905,8324,18013,12978,61246,60145,41546,1275,29611,110,11759,37029,59523,61651,26056,8176,47810,37461,37027,59705,4806,22611,19894,20001,39639,27836,41531,37396,19141,12131,5624,31286,23722,39670,47869,4513,36314,53914,36440,15094,15669,51748,57087,45620,3613,49827,25112,64953,44822,52634,39708,13251,26969,33510,1107,34022,59836,41039,56055,25467,29754,61105,2316,63036,62266,36119,48686,10481,43345,17043,9100,38506,56205,11073,39823,43978,51977,10905,50309,56113,2708,52231,57513,30470,1706,23714,20381,19382,35351,50560,20308,32724,60411,5925,21928,21781,62518,42985,21730,61380,19285,7563,44555,63798,52664,28243,986,3554,45837,58226,3355,950,27770,22592,28563,37647,13086,62884,17590,8761,53773,47775,58840,48581,61244,50850,49658,39206,17741,37212,2797,52872,29679,6968,11994,12902,38673,7191,62309,43211,52934,1234,36955,47633,25857,25296,21145,41703,31155,2191,59787,3649,25547,8342,10976,50663,36144,31223,6014,13684,39718,48930,22939,57263,58481,3741,50823,47700,50337,18006,13365,44846,64166,759,2152,58806,3165,1007,58504,55437,19275,43822,52727,27302,50203,34546,54698,61224,33168,18733,10428,5070,11791,15637,44061,45936,20451,24633,57939,11103,27167,62433,8548,51427,54058,38400,44216,40846,26522,22176,47648,6397,47561,8674,35078,35342,14890,56440,64627,49143,28028,30651,43294,1600,51277,29999,11436,56409,64302,29919,34386,54501,65492,19633,26791,42475,46823,4265,3433,19285,49408,54733,35873,65285,18474,2105,48983,6006,33706,42132,64217,65422,47785,52873,48512,17347,41922,29488,56330,7394,27520,36749,15408,47509,39126,63476,26369,12198,25267,50074,58708,61420,24330,33880,62369,27473,12501,59739,59038,33114,36328,49247,24549,46159,63554,30432,1792,35609,62750,25581,15240,13993,65508,8093,41893,50074,53464,8134,48245,33189,60205,50536,54862,17485,50879,45864,65339,62947,60445,15501,3532,39075,39806,30332,17975,29505,17584,11805,45073,4142,29927,60363,29645,24032,44907,12182,9726,28326,13420,12772,46304,21752,22187,28841,65464,20610,52495,24766,53046,44582,6089,41629,35036,12550,29481,53612,49197,19466,60100,6989,47191,35478,9588,10044,23461,56134,55781,36312,12840,24910,8749,52365,42852,50862,51952,32678,59163,49235,57497,44624,11524,65013,22330,49366,45296,30999,64855,35935,43786,23174,59323,23267,38821,14441,46863,58998,2725,4617,4657,24014,65336,34862,42505,14198,39690,321,46117,42541,56868,18009,9266,57341,58051,48143,28374,7924,3304,41487,640,6352,54249,39041,45317,24828,7318,64495,50675,9041,27941,22777,10196,27914,5540,46343,49321,21110,28221,6330,6049,54932,33318,37835,8528,1627,24029,64397,36573,20840,47673,52626,13714,14992,9929,52905,55831,56063,8956,40606,41286,50017,11526,1262,41958,46083,13048,33529,4797,21633,59850,920,21284,22122,764,62495,20182,28530,53125,47482,57422,10914,30792,47984,13005,15108,11089,9712,64833,7674,38794,17805,43655,35405,10050,49574,21245,23640,60205,36262,33756,56916,2434,60688,1775,26456,10624,38520,39713,54372,31572,43450,50548,37907,1145,1029,59301,28407,27003,46582,42633,35997,12207,30144,22398,59845,48438,52160,1302,48179,59981,27517,11438,548,62115,5179,13564,10659,16957,16175,23377,1330,53266,27100,49183,22776,30975,48326,52428,29597,8848,48435,22800,6683,34403,34235,54589,6335,2637,8987,61705,54937,64115,37881,11708,27905,60717,40237,42731,7041,15671,52206,15725,37058,33276,37352,51204,20635,44789,26358,15218,40030,56611,18191,3559,34601,18185,24264,28042,46341,3123,45301,57390,32940,22066,10137,17179,30165,65049,42897,36010,19676,57382,13318,12745,19808,23048,24490,18574,44648,4280,31043,34996,48740,11600,17969,62454,14606,65179,38794,46555,25938,48640,6665,61017,658,51482,1590,4026,14115,52762,40223,64920,17612,56521,29152,24679,19968,16890,56958,9129,16058,58110,46632,48776,12672,4657,4900,6904,50302,46394,49625,14215,62594,47061,10852,17168,859,36329,49943,47533,246,20382,27570,37117,26615,38637,35469,58670,37492,47706,49573,38464,58932,32130,50082,40213,56819,21771,8951,55690,46814,17488,23098,42737,60946,15771,63509,44001,3250,47018,54948,47114,17537,65079,48582,5547,63812,51368,11534,41816,41251,53437,51105,15274,22326,1419,46998,49027,33557,8064,13075,64195,17397,41915,22298,25181,40589,5240,11044,57256,48263,2830,34657,6162,63431,41034,31157,14656,48428,39799,63808,9955,4209,8897,27889,55740,12090,8325,64979,7801,16726,3260,43674,11371,30361,18177,50795,41394,29861,19643,9620,23315,52890,25288,47124,3194,46159,56219,27251,44855,25283,44292,41494,22781,5918,62535,8142,8221,25310,63242,39171,50728,35367,63783,21965,17942,6779,32164,30617,64042,43708,33887,7561,62240,33154,1926,15871,29191,15027,50710,24385,18932,40468,35970,54011,56115,36026,32561,21070,52114,15637,39066,64879,38884,36579,17840,1069,25805,6923,15961,6390,1351,20842,842,25506,32123,64654,52688,45837,54824,49504,42674,1135,16875,18252,50387,3814,15980,12846,52963,54216,6891,5413,60921,31632,51142,27778,934,49471,42157,30732,56291,51652,55802,45802,40332,63478,5207,3257,31329,35597,13067,13187,55317,34290,55347,41971,39099,46107,41678,38414,12689,17550,65038,29367,43904,31565,31201,10990,13699,25166,10375,32664,65230,37101,58653,27803,48389,33922,61764,34003,37987,31301,14899,25166,25717,56089,40162,47595,45909,3875,64874,20076,8237,36100,17291,4470,6571,29674,13603,50153,22112,52318,60147,5067,37384,55580,51192,3607,64328,34357,42320,55759,46576,13146,2015,62104,16254,58019,41163,322,23258,59234,46822,58793,63329,17596,14554,18871,64614,40949,26586,12330,39363,9323,13618,56502,34090,55168,32486,16133,46110,10539,31914,53144,11767,6705,55126,7868,45287,29682,27563,16322,17292,26814,22395,4609,39559,49067,28708,19574,26061,18215,46475,23378,13166,2544,32084,36786,29362,41146,24864,41977,61804,45686,59427,6959,1919,43311,60506,8448,35084,4566,26400,24741,31155,44325,45739,52725,50227,21369,10674,9406,10599,10665,28069,3685,36810,51674,64717,24295,50600,52031,55109,2316,56866,34531,12237,41883,29175,45806,20154,28012,9319,52900,56642,52119,8378,39440,21531,31042,2241,35440,33567,39734,48293,6836,6112,60247,4512,42875,27052,39713,47352,49854,52731,6860,1216,24376,4736,13864,62952,65011,28807,56036,13246,49882,59756,52019,37431,47204,58517,37776,6765,45737,1967,54373,8778,49641,11685,35088,4725,34423,23861,38690,35335,42411,42887,26137,9641,36758,33950,31548,31367,5808,53751,52300,51943,57980,38817,6424,59297,41714,57485,5619,60395,5594,29626,9078,35105,8516,17318,10356,21009,2441,52974,5966,41970,10339,14042,18927,57550,14287,8456,47074,31039,25499,50952,31292,58323,10202,43586,12348,26135,13380,21241,7841,43594,11921,40875,57151,21480,37525,24740,28360,9933,8711,45700,58578,39457,28792,12632,63695,32763,11254,54888,49981,16030,32307,44969,17201,52730,7483,39336,54474,17305,26215,54657,33087,15512,22897,9923,34986,46170,20152,63744,57859,39540,23238,31313,36225,43475,61576,7586,5239,20103,1526,38258,25404,16019,50874,37617,31063,65386,22425,29994,21956,14638,3891,42114,49369,42864,18304,33353,13692,27256,325,18075,25197,20759,55493,55216,42521,11391,34040,35790,19019,43297,64528,62705,35232,22033,22314,25282,919,1155,27721,16615,60391,58270,62407,30822,3902,52077,64738,49741,60599,5826,2931,9140,8917,53157,9747,33215,47811,9375,58916,43225,4455,52121,42821,25531,29528,59581,46901,20601,47510,32662,43155,34174,2792,47343,37852,25174,39274,35037,18691,59740,5503,11282,5103,65352,3628,55849,36848,33809,40805,12399,56241,39160,27777,45358,61485,44837,6653,8084,20759,28905,46501,44643,61708,17666,34491,50538,24971,1574,16580,33600,19302,22029,18791,24688,47717,51276,61104,48767,51891,40350,18314,33895,10512,24301,43249,1857,49316,55231,28819,25942,8937,32836,33301,33340,14654,9065,46356,62316,37872,54130,53645,59643,31680,48626,33148,17897,64490,8007,58307,6884,39244,54865,13322,46006,58304,14262,53583,44689,30101,50604,41884,5083,42931,26290,29845,34803,38521,45383,54570,26812,9449,22408,56971,5707,11849,5606,35938,26544,58768,14935,54627,31090,42417,525,734,25841,24847,25804,2639,22413,59506,44749,11401,24113,32576,2044,36218,55288,6099,51458,18899,9619,26913,23196,56623,57929,2638,51397,5959,62494,9616,13781,23489,52843,32562,55977,57037,42863,63577,25200,1049,21953,42832,46326,651,45832,55245,9144,8170,36337,32341,64667,990,38111,56964,27104,44461,55500,50933,56599,60521,38683,21623,38990,3212,65445,31480,28847,60452,51627,51118,36454,9750,43366,6729,44108,36259,43535,17870,46572,44075,43752,56730,62179,47754,46157,48232,31883,13430,46454,65395,25637,51497,36876,48806,41228,37270,20758,14931,13359,63749,34530,32001,53877,6361,14915,39488,10111,11174,5132,5392,41471,21051,25438,1838,2397,42466,56199,19305,8486,21120,54700,15953,40735,55231,59342,23143,53551,63439,3799,54503,11609,4824,62283,53673,60271,11306,64986,14820,47330,56042,3064,48898,63429,30811,47229,37472,36817,52838,48149,54117,13432,44747,31885,8950,23126,17646,5541,7500,53193,9393,30978,30671,9205,65135,65488,1221,26126,48513,49709,8459,64534,52330,59714,41557,55782,15656,37197,19555,15240,45164,9214,23215,4206,34612,6767,16848,62419,52187,32686,29621,50237,21500,7502,64649,56102,26827,11145,17880,18459,1371,30294,55799,46334,52334,52979,3717,51380,17652,22780,52969,53745,28746,2548,14619,10519,36060,20463,19511,23233,47739,34198,27686,23466,18288,30162,54556,48190,51386,40750,41225,55094,35234,22217,60007,59565,56333,9504,38532,62932,25824,61221,28153,13629,1955,50503,33644,27500,29855,11262,36189,14850,40320,53274,21429,59701,8344,47152,10458,10824,25822,57577,21038,13511,41165,47148,2566,52251,31191,59309,43644,27580,53735,36638,36459,50475,32728,2547,22765,21792,40501,9135,27404,53166,56536,41448,720,54481,43347,751,15902,48035,14578,10673,43479,19164,20233,26201,13043,43658,51865,35901,8818,46330,5368,42774,52813,27828,25227,31924,27580,35117,62696,4149,15199,44222,38179,20827,53848,52239,36113,39639,54666,15595,54302,14978,33745,47184,22061,43037,2620,44107,52578,19380,26361,56220,21585,43699,17029,30315,18971,28578,25007,41431,49646,36619,64107,29832,3651,56296,41385,44583,11668,40706,63240,9739,58000,15519,43630,24814,42705,21425,31251,33582,23011,32280,24649,46597,54905,53212,50761,42933,10905,60282,48128,28671,57306,61613,25270,62171,57749,18683,27344,27373,57751,63949,32126,47865,63940,27483,30274,36370,48213,39238,55233,14603,12345,35417,14153,62036,11015,8273,19985,21761,15215,30841,26426,9753,19362,56435,3272,27860,54148,23121,16174,31617,55980,60384,20350,57968,44059,15840,48113,23994,1698,6484,38870,7961,60575,21575,36971,57766,54588,49793,31886,37751,46273,45282,14076,45625,11512,10087,6243,9381,48897,29652,14634,14911,14021,50714,35090,40561,26987,2521,20348,52184,8535,27839,20687,18303,17894,28717,46552,25025,43523,62805,4309,55115,18993,33035,54660,47989,26106,33643,370,13628,13769,33106,2471,10375,45692,8416,42263,45927,47319,12711,60016,23635,32299,11463,30702,6866,44615,602,16360,28939,19764,25275,996,13153,12235,54487,21575,956,55495,9906,4219,41765};

inline uint16_t noise(uint16_t val) {
  return pgm_read_word_near(noiseLUT + (val & 4095));
}

inline int squareNoise(oscillator *osc) {
  //if (osc->stride == 0) return 0;
  osc->state += osc->stride;
  return (noise(osc->state) & 1) ? osc->volume : -(osc->volume);
}

